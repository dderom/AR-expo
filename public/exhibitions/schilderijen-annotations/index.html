

  <!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Schilderijen - met extra content (video, text, links...)</title>

    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>

    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">









     <!-- Script to hide/show the context divs -->
    <script>
    AFRAME.registerComponent('markerhandler', {
        init: function () {
          const marker = this.el;
          marker.addEventListener("markerFound", ()=> {
            var markerId = marker.id;
            var markerArtistDIV = 'menu-artist-' + markerId;
            var markerDescriptionDIV = 'menu-description-' + markerId;
            var markerVideoDIV = 'menu-video-' + markerId;
            var markeriframeId = 'iframe-' + markerId;
            var markerVideoDIViframe = 'context-video-' + markerId;
            var visibelvar = document.getElementById(markerArtistDIV).style.visibility = "visible";
            var visibelvar2 = document.getElementById(markerDescriptionDIV).style.visibility = "visible";
            if (document.getElementById(markerVideoDIV) !== null) {
            var visibelvar3 = document.getElementById(markerVideoDIV).style.visibility = "visible";

                $(document).ready(function(){


                    var url = $("#" + markeriframeId).attr('src');
                    console.log("Video URL: ", url);


                    $("#" + markerVideoDIViframe).on('hide.bs.modal', function(){
                        $("#" + markeriframeId).attr('src', '');
                        console.log("Video autoplay: ", markerVideoDIViframe);
                    });



                    $("#" + markerVideoDIViframe).on('show.bs.modal', function(){
                        $("#" + markeriframeId).attr('src', url);
                        console.log("Video autoplay: ", markerVideoDIViframe);
                    });


                });
            }



            console.log('Marker Found: ', markerId);
            console.log("visibility: ", visibelvar);
            console.log("Description ID: ", markerDescriptionDIV);
            console.log("Artist ID: ", markerArtistDIV);
            console.log("Video ID: ", markerVideoDIV);
            console.log("Video autoplay: ", markerVideoDIViframe);

          });
          marker.addEventListener("markerLost",() =>{
            var markerId = marker.id;
            var markerArtistDIV = 'menu-artist-' + markerId;
            var markerDescriptionDIV = 'menu-description-' + markerId;
            var markerVideoDIV = 'menu-video-' + markerId;
            var visibelvar = document.getElementById(markerArtistDIV).style.visibility = "hidden";
            var visibelvar2 = document.getElementById(markerDescriptionDIV).style.visibility = "hidden";
            if (document.getElementById(markerVideoDIV) !== null) {
              var visibelvar3 = document.getElementById(markerVideoDIV).style.visibility = "hidden";
            }
            console.log('Marker Lost: ', markerId);
            console.log("visibility: ", visibelvar);
            console.log("Description ID - hidden: ", markerDescriptionDIV)
            console.log("Artist ID - hidden: ", markerArtistDIV)
            console.log("Video ID - hidden: ", markerVideoDIV)
          });
        },
      });
    </script>





    <script>
    AFRAME.registerComponent('clickhandler', {
         init: function() {
           const pin = this.el;
           pin.addEventListener('click', () => {
                var pinId = pin.getAttribute('pin-id');
                 console.log('Dynamic annotation for ID: ', pinId)
             });
     }});
     </script>



    <style>

      .menu {
         left: 0;
         width: 10%;
         height: 5em;
         display: flex;
         justify-content: center;
         align-items: center;
         z-index: 1;
         visibility: hidden;
         position: absolute;
         bottom: 0;
         float: left;
         margin-left: 2px;
      }
      .menu-artist {
        position: absolute;
        bottom: 0;
        left: 2px;
      }

      .menu-description {
        position: absolute;
        bottom: 80px;
        left: 2px;
      }

      .menu-video {
        position: absolute;
        bottom: 160px;
        left: 2px;
      }



      .btn {
        margin-bottom: 2px;
      }

      .modal-content {
        background-color:rgba(0, 0, 0, 0.5);
        border: 2px solid white;
      }

      .modal-header, .modal-body, .modal-content, .close {
        color: white;
      }
    </style>


    </head>


  <body>
    <a-scene cursor='rayOrigin: mouse; fuse: true; fuseTimeout: 0;'
          raycaster="objects: [clickhandler];"
          vr-mode-ui="enabled: false"
  		embedded
  	 arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">







        Printing range of taxonomy term:  exhibition-builds - Painting 1










































                          <a-marker markerhandler type="barcode" value="1" id="1">
                            <a-image rotation="90 0 180" position="-10 -10 0" scale="3 3 3" src="/AR-expo/public/artworks/jeanne_kefer.jpg">
                            </a-image>













                        <a-circle type="button" data-toggle="modal" data-target="#pin-1-pin1"
                                  radius="0.4"
                                  position="1 0.01 0"
                                  rotation="-90 0 0"
                                  look-at="camera"
                                  material="color: blue; transparent: true; opacity: 0.1;"></a-circle>
                        <a-sphere
                                  radius="0.1"
                                  position="1 0.01 0"
                                  rotation="-90 0 0"
                                  look-at="camera"
                                  material="color: red; transparent: true; opacity: 0.5;"></a-sphere>














                        </a-marker>




    <a-entity camera near="0.005"></a-entity>


    <a-entity cursor="rayOrigin:mouse"></a-entity>

  </a-scene>


    <!-- BEGINNING of context items -->



























          <div id="menu-description-1" class="menu-description menu container context">
              <div class="row">
                  <div class="col">
                      <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#context-description-1">
                          Info
                      </button>
                  </div>
              </div>
          </div>



          <div class="modal fade" id="context-description-1" tabindex="-1" role="dialog" aria-labelledby="context-description-1" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Over het werk</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">x</span>
                  </button>
                </div>
                <div class="modal-body">
                  De schilderijen van Fernand Khnopff behoren tot het symbolisme. Khnopffs meest bekende onderwerpen zijn landschappen te Fosset, portretten van dames uit de Brusselse bourgeoisie, stadsgezichten van Brugge en symbolistische composities. Uit de meeste doeken spreekt een mysterieuze, bevreemdende sfeer. Zijn personages vertonen vaak androgyne trekken. Zijn meesterwerk is De liefkozing uit 1896, een afbeelding van Oedipus die zich tegen de sfinx aanvlijt.
                </div>
              </div>
            </div>
          </div>

          <div id="menu-artist-1" class="menu-artist menu container context">
              <div class="row">
                  <div class="col">
                      <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#context-artist-1">
                          ?
                      </button>
                  </div>
              </div>
          </div>


          <div class="modal fade" id="context-artist-1" tabindex="-1" role="dialog" aria-labelledby="context-artist-1" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Korte beschrijving van Fernand Edmond Jean Marie Khnopff</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">x</span>
                  </button>
                </div>
                <div class="modal-body">
                  Jeanne KÃ©fer - 1885 by Fernand Edmond Jean Marie Khnopff
                </div>
              </div>
            </div>
          </div>
























<!-- END of context items -->



    <!-- BEGINNING of dynamic annotations -->
























          <!-- Build a text panel if applicable -->


                <div class="modal fade" id="pin-1-pin1" tabindex="-1" role="dialog" aria-labelledby="pin-1" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">"Pin 1 - Les Bourgeois - Rodin"</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">x</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Testing the dynamic description using Pin 1
                      </div>
                    </div>
                  </div>
                </div>










          <!-- Build a text panel if applicable -->


                <div class="modal fade" id="pin-1-pin2" tabindex="-1" role="dialog" aria-labelledby="pin-1" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">"Pin 2 - Les Bourgeois - Rodin"</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">x</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Testing the dynamic description using Pin 2
                      </div>
                    </div>
                  </div>
                </div>










          <!-- Build a text panel if applicable -->


                <div class="modal fade" id="pin-1-pin3" tabindex="-1" role="dialog" aria-labelledby="pin-1" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">"Pin 3 - Les Bourgeois - Rodin"</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">x</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Testing the dynamic description using Pin 3
                      </div>
                    </div>
                  </div>
                </div>





<!-- END of dynamic annotations -->



<!-- No dynamic annotations added-->








<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



</body>

</html>
